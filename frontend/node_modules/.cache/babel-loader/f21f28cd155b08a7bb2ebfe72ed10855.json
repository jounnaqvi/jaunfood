{"ast":null,"code":"import React,{useState}from'react';import{useDispatchCart,useCart}from'./contextReducer';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Card=_ref=>{let{item}=_ref;const dispatch=useDispatchCart();const data=useCart();const[qty,setQty]=useState(1);const[size,setSize]=useState('Quarter');const handleAddToCart=async()=>{let food=data.find(i=>i.id===item._id);if(food){if(food.size===size){await dispatch({type:\"UPDATE\",id:item._id,price:item.price,qty});}else{await dispatch({type:'ADD',id:item._id,name:item.name,price:item.price*qty,qty,size});}}else{await dispatch({type:'ADD',id:item._id,name:item.name,price:item.price*qty,qty,size});}};if(!item){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"card mt-3\",style:{width:'22rem',maxHeight:'520px'},children:[/*#__PURE__*/_jsx(\"img\",{className:\"card-img-top\",src:\"/burger.jpg\",alt:\"Card image cap\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",style:{fontStyle:'italic'},children:item.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"Category: \",item.category]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"Price: Rs \",item.price.toFixed(2)]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"Rating: \",item.rating]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container w-100\",children:[/*#__PURE__*/_jsx(\"select\",{className:\"m-2 h-100 bg-success\",onChange:e=>setQty(Number(e.target.value)),children:Array.from(Array(6),(e,i)=>/*#__PURE__*/_jsx(\"option\",{value:i+1,children:i+1},i+1))}),/*#__PURE__*/_jsxs(\"select\",{className:\"m-2 h-100 bg-success\",onChange:e=>setSize(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"Quarter\",children:\"Quarter\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Half\",children:\"Half\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Full\",children:\"Full\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-inline h-100 fs-5\",children:[\"Total Price: Rs \",(item.price*qty).toFixed(2)]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success justify-center ms-2\",onClick:handleAddToCart,children:\"Add to cart\"})]})]})]});};export default Card;","map":{"version":3,"names":["React","useState","useDispatchCart","useCart","jsx","_jsx","jsxs","_jsxs","Card","_ref","item","dispatch","data","qty","setQty","size","setSize","handleAddToCart","food","find","i","id","_id","type","price","name","children","className","style","width","maxHeight","src","alt","fontStyle","category","toFixed","rating","onChange","e","Number","target","value","Array","from","onClick"],"sources":["D:/jaunfood/frontend/src/components/Card.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useDispatchCart, useCart } from './contextReducer';\r\n\r\nconst Card = ({ item }) => {\r\n  const dispatch = useDispatchCart();\r\n  const data = useCart();\r\n  const [qty, setQty] = useState(1);\r\n  const [size, setSize] = useState('Quarter');\r\n\r\n  const handleAddToCart = async () => {\r\n    let food = data.find((i) => i.id === item._id);\r\n    if (food) {\r\n      if (food.size === size) {\r\n        await dispatch({ type: \"UPDATE\", id: item._id, price: item.price, qty });\r\n      } else {\r\n        await dispatch({\r\n          type: 'ADD',\r\n          id: item._id,\r\n          name: item.name,\r\n          price: item.price * qty,\r\n          qty,\r\n          size,\r\n        });\r\n      }\r\n    } else {\r\n      await dispatch({\r\n        type: 'ADD',\r\n        id: item._id,\r\n        name: item.name,\r\n        price: item.price * qty,\r\n        qty,\r\n        size,\r\n      });\r\n    }\r\n  };\r\n\r\n  if (!item) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"card mt-3\" style={{ width: '22rem', maxHeight: '520px' }}>\r\n      {/* <img className=\"card-img-top\" src=\"/momos.jpg\" alt=\"Card image cap\" /> */}\r\n      <img className=\"card-img-top\" src=\"/burger.jpg\" alt=\"Card image cap\" />\r\n      <div className=\"card-body\">\r\n        <h5 className=\"card-title\" style={{ fontStyle: 'italic' }}>{item.name}</h5>\r\n        <p className=\"card-text\">Category: {item.category}</p>\r\n        <p className=\"card-text\">Price: Rs {item.price.toFixed(2)}</p>\r\n        <p className=\"card-text\">Rating: {item.rating}</p>\r\n        <div className=\"container w-100\">\r\n          <select className=\"m-2 h-100 bg-success\" onChange={(e) => setQty(Number(e.target.value))}>\r\n            {Array.from(Array(6), (e, i) => (\r\n              <option key={i + 1} value={i + 1}>\r\n                {i + 1}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <select className=\"m-2 h-100 bg-success\" onChange={(e) => setSize(e.target.value)}>\r\n            <option value=\"Quarter\">Quarter</option>\r\n            <option value=\"Half\">Half</option>\r\n            <option value=\"Full\">Full</option>\r\n          </select>\r\n          <div className=\"d-inline h-100 fs-5\">\r\n            Total Price: Rs {(item.price * qty).toFixed(2)}\r\n          </div>\r\n          <button className=\"btn btn-success justify-center ms-2\" onClick={handleAddToCart}>\r\n            Add to cart\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nCard.propTypes = {\r\n  item: PropTypes.shape({\r\n    _id: PropTypes.string.isRequired,\r\n    name: PropTypes.string.isRequired,\r\n    category: PropTypes.string.isRequired,\r\n    price: PropTypes.number.isRequired,\r\n    rating: PropTypes.number.isRequired,\r\n  }).isRequired,\r\n};\r\n\r\nexport default Card;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}