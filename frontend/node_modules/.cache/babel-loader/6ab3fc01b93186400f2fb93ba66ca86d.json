{"ast":null,"code":"import React,{useEffect,useState}from'react';import Footer from'../components/Footer';import Navbar from'../components/Navbar';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function MyOrder(){const[orderData,setOrderData]=useState(null);const fetchMyOrder=async()=>{try{const response=await fetch(\"http://localhost:5000/api/myOrderData\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:localStorage.getItem('userEmail')})});const data=await response.json();console.log(\"Order Data received from API:\",data);// Ensure this shows correct structure\nsetOrderData(data.orderData);// Update this to store the nested 'orderData' directly\n}catch(error){console.error(\"Error fetching order data:\",error);}};useEffect(()=>{fetchMyOrder();},[]);// If orderData is null, display a loading message or \"No orders found\"\nif(!orderData){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:orderData.order_data.length>0?orderData.order_data.slice(0).reverse().map((itemArray,index)=>/*#__PURE__*/_jsx(\"div\",{children:itemArray.map((arrayData,idx)=>/*#__PURE__*/_jsx(\"div\",{children:arrayData.Order_date?/*#__PURE__*/_jsxs(\"div\",{className:\"m-auto mt-5\",children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"strong\",{children:arrayData.Order_date})]}):/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-6 col-lg-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card mt-3\",style:{width:\"16rem\",maxHeight:\"360px\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:arrayData.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"container w-100 p-0\",style:{height:\"38px\"},children:[/*#__PURE__*/_jsx(\"span\",{className:\"m-1\",children:arrayData.qty}),/*#__PURE__*/_jsx(\"span\",{className:\"m-1\",children:arrayData.size}),/*#__PURE__*/_jsx(\"span\",{className:\"m-1\",children:arrayData.Order_date}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-inline ms-2 h-100 w-20 fs-5\",children:[\"\\u20B9\",arrayData.price,\"/-\"]})]})]})})})},idx))},index)):/*#__PURE__*/_jsx(\"div\",{children:\"No orders found\"})})}),/*#__PURE__*/_jsx(Footer,{})]});}","map":{"version":3,"names":["React","useEffect","useState","Footer","Navbar","jsx","_jsx","jsxs","_jsxs","MyOrder","orderData","setOrderData","fetchMyOrder","response","fetch","method","headers","body","JSON","stringify","email","localStorage","getItem","data","json","console","log","error","children","className","order_data","length","slice","reverse","map","itemArray","index","arrayData","idx","Order_date","style","width","maxHeight","name","height","qty","size","price"],"sources":["D:/jaunfood/frontend/src/screens/MyOrder.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Footer from '../components/Footer';\r\nimport Navbar from '../components/Navbar';\r\n\r\nexport default function MyOrder() {\r\n    const [orderData, setOrderData] = useState(null);\r\n\r\n    const fetchMyOrder = async () => {\r\n        try {\r\n            const response = await fetch(\"http://localhost:5000/api/myOrderData\", {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    email: localStorage.getItem('userEmail')\r\n                })\r\n            });\r\n\r\n            const data = await response.json();\r\n            console.log(\"Order Data received from API:\", data); // Ensure this shows correct structure\r\n            setOrderData(data.orderData); // Update this to store the nested 'orderData' directly\r\n        } catch (error) {\r\n            console.error(\"Error fetching order data:\", error);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchMyOrder();\r\n    }, []);\r\n\r\n    // If orderData is null, display a loading message or \"No orders found\"\r\n    if (!orderData) {\r\n        return <div>Loading...</div>;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Navbar />\r\n            <div className='container'>\r\n                <div className='row'>\r\n                    {orderData.order_data.length > 0 ? (\r\n                        orderData.order_data.slice(0).reverse().map((itemArray, index) => (\r\n                            <div key={index}>\r\n                                {itemArray.map((arrayData, idx) => (\r\n                                    <div key={idx}>\r\n                                        {arrayData.Order_date ? (\r\n                                            <div className='m-auto mt-5'>\r\n                                                <hr />\r\n                                                <strong>{arrayData.Order_date}</strong>\r\n                                            </div>\r\n                                        ) : (\r\n                                            <div className='col-12 col-md-6 col-lg-3'>\r\n                                                <div className=\"card mt-3\" style={{ width: \"16rem\", maxHeight: \"360px\" }}>\r\n                                                    {/* <img src={arrayData.img} className=\"card-img-top\" alt=\"Product\" style={{ height: \"120px\", objectFit: \"fill\" }} /> */}\r\n                                                    <div className=\"card-body\">\r\n                                                        <h5 className=\"card-title\">{arrayData.name}</h5>\r\n                                                        <div className='container w-100 p-0' style={{ height: \"38px\" }}>\r\n                                                            <span className='m-1'>{arrayData.qty}</span>\r\n                                                            <span className='m-1'>{arrayData.size}</span>\r\n                                                            <span className='m-1'>{arrayData.Order_date}</span>\r\n                                                            <div className='d-inline ms-2 h-100 w-20 fs-5'>\r\n                                                                â‚¹{arrayData.price}/-\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        ))\r\n                    ) : (\r\n                        <div>No orders found</div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n            <Footer />\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}